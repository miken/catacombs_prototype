{% extends "base.html" %}

{% block content %}

<div class="row">
  <div class="col-lg-12">
    <h1 class="text-center">Variable Mapping</h1>
    <p>Variable map for: <strong>{{ survey }}</strong></p>
    <p>The following table shows how variables in raw Qualtrics survey data will map to those in database. </p>
  </div>
</div>

<div class="row">
  <div class="col-lg-12">
    <table class="table table-striped table-condensed">
      <tr>
        <th class="col-lg-2">Raw Variable Name</th>
        <th class="col-lg-3">Database Variable Name</th>
        <th class="col-lg-2">Database Variable Label</th>
        <th class="col-lg-1">Action</th>
      </tr>
      
      {% for m in survey.varmap_set.all %}
      <tr>
        <td>{{ m.raw_name }}</td>
        <td>{{ m.variable.name }}</td>
        <td>{{ m.variable.description }}</td>
        <td>
          <a href="" class="btn btn-default btn-xs"><i class="icon-edit icon-large"></i></a>
          <a href="" class="btn btn-danger btn-xs"><i class="icon-trash icon-large"></i></a>
        </td>
      </tr>
      {% endfor %}
    </table>
  </div>
</div>

<div class="row">
  <div class="col-lg-12">
    <p><a href="{% url "varmap-add" pk=survey.id %}">Add a new variable map</a></p>
    <p><a href="{% url "surveys-view" pk=survey.id %}">Back to {{ survey.name }}</a></p>
  </div>
</div>
{% endblock %}